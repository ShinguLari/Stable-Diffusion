# [ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«] Automatic1111 WebUIã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€Stable Diffusion XL(SDXL)ã‚’ç„¡æ–™ã§ä½¿ç”¨ã™ã‚‹æ–¹æ³•
[æ–°å®®ãƒ©ãƒªãƒ»ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«](https://www.beacons.ai/shingulari/) 

[![Twitter æ–°å®®ãƒ©ãƒª](https://img.shields.io/badge/Twitter-Follow%20Me-1DA1F2?style=for-the-badge&logo=twitter&logoColor=white)](https://twitter.com/aisinguularity)

[![YouTube Channel](https://img.shields.io/badge/YouTube-æ–°å®®ãƒ©ãƒªã®AIã‚·ãƒ³ã‚®ãƒ¥ãƒ©ãƒªãƒ†ã‚£ãƒ¼-C50C0C?style=for-the-badge&logo=youtube)](https://www.youtube.com/@aisinguularity) 



<br>

## ã“ã®ã—ãŠã‚Šã®githubãƒ–ãƒ©ãƒ³ãƒåˆ‡ã‚Šæ›¿ãˆã‚„SDXLã®WebUIè§£èª¬å‹•ç”»
[ãƒ–ãƒ©ãƒ³ãƒåˆ‡ã‚Šæ›¿ãˆæ–¹æ³•è§£èª¬å‹•ç”»](https://youtu.be/m7lq0BmMUvU)

[WebUI1.5.0ç°¡å˜ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨5ã¤ã®é‹ç”¨æ–¹è§£èª¬å‹•ç”»]()

<br>

## å¿…è¦æ¡ä»¶

**Pythonã¨gitã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ä»•æ–¹
* [git for Windowsã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‹•ç”» (1:10~)](https://youtu.be/nJCwnd3QFX0?t=70)
* [Pythonã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‹•ç”» (1:50~)](https://youtu.be/nJCwnd3QFX0?t=110)


**Python 3.10.x (3.10.6, 3.10.9, 3.10.11) ã¨ git ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸**
* git -> https://gitforwindows.org/
* 3.10.9 -> https://www.python.org/ftp/python/3.10.9/python-3.10.9-amd64.exe

<br>

## SDXLå¯¾å¿œComfyUIãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
* ComfyUIã§ã®SDXLã®åˆ©ç”¨ã«èˆˆå‘³ãŒã‚ã‚‹æ–¹ã¯ã€ä»¥ä¸‹ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å‹•ç”»ã‚’ã”è¦§ãã ã•ã„ã€‚
* [SDXL0.9ç”¨ComfyUIãƒãƒ¼ãƒ‰ï¼ˆæ—¥æœ¬èªç‰ˆï¼‰ğŸ¥³4Kã‚¢ãƒƒãƒ—ã‚¹ã‚±ãƒ¼ãƒ©ãƒ¼ä»˜ã | Ultimate SD Upscale](https://youtu.be/XFe2-q7ZGxE)
* ãã®ä»–ã®ãƒã‚¤ãƒ†ã‚£ãƒ–diffusersã¨ã€Gradioãƒ™ãƒ¼ã‚¹ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å‹•ç”»
* [SDXL0.9ã‚’Google Colabã§ç„¡æ–™ä½¿ã„æ”¾é¡Œã®ãƒ„ãƒ¼ãƒ«ã€ä½¿ã„æ–¹è§£èª¬](https://youtu.be/MYqYFbJRae8)

<br>

## webui-user.batã¸ã®è¿½è¨˜
â€»æ¬¡ã®ãƒãƒ£ãƒ—ã‚¿ãƒ¼ã®ã€Œæ‰‹å‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€ã‚’å®Ÿè¡Œå¾Œã«è¡Œã£ã¦ä¸‹ã•ã„ã€‚

* webui-user.bat ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å³ã‚¯ãƒªãƒƒã‚¯ã‹ã‚‰ç·¨é›†ã—ã¦ä¸‹è¨˜ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿½åŠ ã—ã¦ä¸‹ã•ã„ã€‚
* ```set COMMANDLINE_ARGS=--xformers```

* â€»--no half vaeã®å¼•æ•°ã¯ç„¡ãã¦ã‚‚æ­£å¼ç‰ˆ1.5.0ã§ã¯å‹•ãã¾ã—ãŸã€‚

* ã‚‚ã— 'out of memory error' ãŒå‡ºãŸã‚‰ä»¥ä¸‹ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è©¦ã—ã¦ä¸‹ã•ã„ã€‚medvramã‹ã‚‰å…ˆã«è©¦ã—ã¦ä¸‹ã•ã„ã€‚
* ~```--no-half-vae``` ã¯SDXLã«å¿…è¦ã§ã™ãŒã€ VAEã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„é™ã‚Šã¯Stable Diffusion 1.5 ãƒ¢ãƒ‡ãƒ«ã«ã¯ä½¿ã‚ãªã„æ–¹ãŒã„ã„ã§ã™ã€‚~
* ```set COMMANDLINE_ARGS=--xformers --medvram```
* ```set COMMANDLINE_ARGS=--xformers --lowvram```
  
<br>

### æ‰‹å‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•

**SDXL safetensorsãƒ•ã‚¡ã‚¤ãƒ«ï¼’ã¤ã‚’å…¬å¼ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ä¸‹ã•ã„ã€‚**
* SDXL Base : https://huggingface.co/stabilityai/stable-diffusion-xl-base-0.9/tree/main
* SDXL Refiner : https://huggingface.co/stabilityai/stable-diffusion-xl-refiner-0.9/tree/main
   
<br>

**SDXLç”¨WebUI1111ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ä»•æ–¹**

* æœ€åˆã«ã€Automatic1111 ã‚’ãŠå¥½ããªãƒ•ã‚©ãƒ«ãƒ€å†…ã¸git cloneã—ã¦ä¸‹ã•ã„ã€‚

* Automatic1111 ãƒ¬ãƒã‚¸ãƒˆãƒª : https://github.com/AUTOMATIC1111/stable-diffusion-webui
```
git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui
```
* V1.5 SDXL å¤‰æ›´ãƒ­ã‚° : https://github.com/AUTOMATIC1111/stable-diffusion-webui/blob/release_candidate/CHANGELOG.md

* â€»git cloneãŒå®Œäº†ã—ãŸã‚‰ã€ä¸Šã®ãƒãƒ£ãƒ—ã‚¿ãƒ¼ã®ã€Œwebui-user.batã¸ã®è¿½è¨˜ã€ã‚’è¡Œã£ã¦ä¸‹ã•ã„ã€‚

* ãã—ã¦é€šå¸¸é€šã‚Šwebui-user.batã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¦Stable Diffusionã‚’èµ·å‹•ã—ã¦ä¸‹ã•ã„ã€‚

<br>

**æ—¢å­˜ã®SD WebUIã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹æ™‚**

æ—¢ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚ã‚‹WebUI1111ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å†…ã§ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’é–‹ãï¼ˆå‹•ç”»ã‚’å‚ç…§ï¼‰

ãã—ã¦ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã«å¿…è¦ãªä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¦ä¸‹ã•ã„ã€‚ 

```
git pull
```

â€»ä¸Šã®ãƒãƒ£ãƒ—ã‚¿ãƒ¼ã®ã€Œwebui-user.batã¸ã®è¿½è¨˜ã€ã‚’è¡Œã£ã¦ä¸‹ã•ã„ã€‚

ãã—ã¦é€šå¸¸é€šã‚Šwebui-user.batã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¦Stable Diffusionã‚’èµ·å‹•ã—ã¦ä¸‹ã•ã„ã€‚

<br>

## Link Shell Extension (ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ãƒ„ãƒ¼ãƒ«ï¼‰
[https://schinagl.priv.at/nt/hardlinkshellext/hardlinkshellext.html](https://schinagl.priv.at/nt/hardlinkshellext/hardlinkshellext.html)

<br>

## å‹•ç”»ã§ä½¿ç”¨ã—ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

Positive
```
chest-up portraitt photograhy of Beautiful cocasian girl 18 years old is wearing Kimono in Winter Kyoto Japan in snow weather,
Ultrarealistic, cinematic, fujifilm, snowy japanese old city, flowers, colorful, overcast sky, sunset
```

Negative
```
Deformed, unrealistic, bad quality, grainy, noisy, plastic, hazy, low contrast
```
  
<br>

## Githubã®ãƒ–ãƒ©ãƒ³ãƒã‚’devã«å¤‰æ›´ã—ãŸã„æ™‚
devãƒ–ãƒ©ãƒ³ãƒã®æ–°æ©Ÿèƒ½ã‚’è©¦ã—ãŸã„æ™‚ã«ä½¿ã†

* SD WebUIãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å†…ã§ã€CMDã‚’æŠ¼ã—ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç«‹ã¡ä¸Šã’ã€
```
git checkout dev
```

ã‚’å…¥åŠ›ã™ã‚‹ã€‚
ã“ã‚Œã§devãƒ–ãƒ©ãƒ³ãƒã«åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹ã€‚

* ã‚ã¨ã¯ webui-user.bat ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨devãƒ–ãƒ©ãƒ³ãƒã®å†…å®¹ãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã€‚

å…ƒã®ãƒ–ãƒ©ãƒ³ãƒã«æˆ»ã—ãŸã„æ™‚ã¯ã€
```
git checkout master
```
  
<br> 

## ä»Šå›åˆ©ç”¨ã—ãŸcommit hash

4bf64976c1971fe2ff8931dd094306d297ebabcf
